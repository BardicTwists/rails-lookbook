/* If you need to add @import statements, do so up here */

@import "jit-refresh.css"; /* triggers frontend rebuilds */

/* Set up Tailwind imports */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  [x-cloak] {
    display: none !important;
  }

  ::-webkit-scrollbar {
    @apply w-1 h-1;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply transition-colors rounded-full	bg-clip-content bg-gray-200;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-300;
  }

  [data-lookbook-embed] {
    @apply rounded-md overflow-hidden shadow-md;
  }

  details {
    @apply cursor-pointer;

    &[open] summary {
      @apply mb-2;
    }
  }

  .link-underline {
    @apply underline !underline-offset-4 !decoration-current decoration-dashed hover:decoration-solid transition-all;
  }
}

@layer components {
  /* Layout */

  .layout-container {
    @apply grid grid-flow-row overflow-hidden;
    @apply grid-cols-[220px_1fr] xl:grid-cols-[calc(((100vw_-_theme(screens.mx))_/_2)_+_280px)_1fr];

    & .layout-content {
      @apply px-6 lg:px-8;
    }

    & .layout-column:first-child {
      @apply border-r border-transparent flex;
    }

    & .layout-column:first-child .layout-content {
      @apply w-full xl:w-[280px] ml-auto;
    }

    & .layout-column:last-child .layout-content {
      @apply max-w-[1100px] w-full;
    }
  }

  #sidebar {
    @apply pr-4;
  }

  .layout-slat {
    @apply w-full;

    & > * {
      @apply w-full max-w-[theme(screens.mx)] px-6 lg:px-8 mx-auto;
    }
  }

  .layout-slat-grid {
    @apply grid grid-cols-12 grid-rows-1 gap-4 md:gap-8 mx-auto;
  }

  /* Header */

  #site-header {
    & nav {
      @apply items-center justify-end space-x-6;

      & a {
        @apply text-gray-500 flex items-center px-1 space-x-1.5;
        @apply h-12 border-b-2 border-t-2 border-transparent;

        & [data-component="icon"] {
          @apply opacity-70;
        }
      }

      & a.active {
        @apply text-indigo-700 !border-b-indigo-600;
      }

      & a:hover {
        @apply text-gray-700;
      }

      & a:not([target]):hover {
        @apply border-b-indigo-200;
      }
    }
  }

  /* Articles */

  article {
    & [data-component="section"] + [data-component="section"] {
      @apply mt-8 pt-8 border-t border-gray-300;
    }

    & [data-lookbook-embed] + * {
      @apply mt-7;
    }

    & .highlighter-rouge + details {
      @apply -mt-2;
    }

    & [data-component="screenshot"] {
      @apply !my-8;
    }
  }

  .prose code:not(.highlight code) {
    @apply bg-gray-100 inline-block px-1 font-normal !my-0;

    &:before,
    &:after {
      display: none;
    }
  }

  .prose :where(h4):not(:where([class~="not-prose"] *)) {
    @apply mb-4;
  }

  .prose a {
    @apply link-underline;
  }

  /* Homepage */

  .feature-slat {
    @apply py-12 relative z-[100] bg-white;
    @apply layout-slat;
  }

  .feature-slat-inner {
    @apply layout-slat-grid;
  }

  .feature-slat-inner > div {
    @apply col-span-6;
  }

  .feature-slat-title {
    @apply text-2xl sm:text-3xl font-extralight !leading-tight relative mb-6;
  }

  .feature-slat-badge {
    @apply inline-block px-1.5 py-1 rounded-lg bg-emerald-500 text-white text-[10px] tracking-wider font-semibold uppercase leading-none absolute top-0 ml-2 shadow;
  }
}
