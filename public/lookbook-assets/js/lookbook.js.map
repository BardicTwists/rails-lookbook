{"mappings":";AAAA,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,CAAC;AAEtC,OAAO,QAAQ,CAAC,UAAU,GAAG,WAAY;IACvC,IAAI,OAAO,OAAO,YAAY,KAAK,YAAY;QAC7C,QAAQ,KAAK,CACX;QAEF;IACF,CAAC;IAED,MAAM,SAAS,MAAM,IAAI,CAAC,SAAS,gBAAgB,CAAC;IAEpD,OAAO,OAAO,CAAC,CAAC,QAAU;QACxB,MAAM,QAAQ,MAAM,IAAI,CAAC,MAAM,UAAU;QACzC,MAAM,SAAS,mCAAa;QAC5B,MAAM,WAAW,CAAC;IACpB;IAEA,OAAO,YAAY,CAAC;QAAE,aAAa,KAAK;IAAC,GAAG;AAC9C;AAEA,MAAM,uCAAiB;AACvB,MAAM,wCAAkB,CAAC,EAAE,EAAE,SAAS,IAAI,CAAC,SAAS,CAAC;AAErD,SAAS,mCAAa,KAAK,EAAE;IAC3B,MAAM,MAAM,+BAAS;IACrB,MAAM,KAAK,gCAAU,OAAO;IAC5B,MAAM,UAAU,gCAAU,OAAO,SAAS,IACvC,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM;IAEzB,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,OAAO,GAAG,GAAG;IACb,IAAI,IAAI,OAAO,EAAE,GAAG;IAEpB,OAAO,YAAY,CAAC,eAAe;IACnC,OAAO,YAAY,CAAC,uBAAuB,IAAI;IAE/C,IAAI,QAAQ,MAAM,EAAE,OAAO,SAAS,CAAC,GAAG,IAAI;IAC5C,OAAO,KAAK,CAAC,KAAK,GAAG;IACrB,OAAO,KAAK,CAAC,UAAU,GAAG;IAC1B,OAAO,KAAK,CAAC,SAAS,GAAG;IACzB,OAAO,KAAK,CAAC,YAAY,GAAG;IAE5B,OAAO;AACT;AAEA,SAAS,+BAAS,KAAK,EAAE;IACvB,MAAM,UAAU,gCAAU,OAAO,UAAU;IAE3C,MAAM,QAAQ,CAAC;IACf,mCAAa,OAAO,OAAO,SAAS,OAAO,CAAC,CAAC,QAAE,KAAI,SAAE,MAAK,EAAE,GAAK;QAC/D,OAAO,KAAK,OAAO,CAAC,KAAK,KAAK,WAAW;QACzC,KAAK,CAAC,KAAK,GAAG;IAChB;IAEA,OAAO,UACL;QAAC;QAAS;KAAe,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,SAAS,CAAC,OAAO,CAAC;AAE3E;AAEA,SAAS,gCAAU,KAAK,EAAE,IAAI,EAAE,WAAW,IAAI,EAAE;IAC/C,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;IAChD,OAAO,OAAO,KAAK,KAAK,GAAG,QAAQ;AACrC;AAEA,SAAS,mCAAa,KAAK,EAAE,GAAG,OAAO,EAAE;IACvC,OAAO,MAAM,MAAM,CAAC,CAAC,OAAS,CAAC,QAAQ,QAAQ,CAAC,KAAK,IAAI;AAC3D","sources":["app/assets/lookbook/js/lookbook.js"],"sourcesContent":["window.Lookbook = window.Lookbook || {};\n\nwindow.Lookbook.initEmbeds = function () {\n  if (typeof window.iFrameResize !== \"function\") {\n    console.error(\n      \"Lookbook embeds require the 'iframe-resizer' library to be available. Skipping embed instantiation.\"\n    );\n    return;\n  }\n\n  const embeds = Array.from(document.querySelectorAll(\"lookbook-embed\"));\n\n  embeds.forEach((embed) => {\n    const attrs = Array.from(embed.attributes);\n    const iframe = createIframe(attrs);\n    embed.replaceWith(iframe);\n  });\n\n  window.iFrameResize({ checkOrigin: false }, \"[data-lookbook-embed]\");\n};\n\nconst embedUrlPrefix = \"embed\";\nconst defaultBasePath = `//${location.host}/lookbook`;\n\nfunction createIframe(attrs) {\n  const src = buildSrc(attrs);\n  const id = attrValue(attrs, \"id\");\n  const classes = attrValue(attrs, \"class\", \"\")\n    .split(\" \")\n    .map((c) => c.trim())\n    .filter((c) => c.length);\n\n  const iframe = document.createElement(\"iframe\");\n  iframe.src = src;\n  if (id) iframe.id = id;\n\n  iframe.setAttribute(\"frameborder\", 0);\n  iframe.setAttribute(\"data-lookbook-embed\", true);\n\n  if (classes.length) iframe.classList.add(...classes);\n  iframe.style.width = \"100%\";\n  iframe.style.transition = \"height 0.3s\";\n  iframe.style.boxShadow = \"0px 0px 4px rgba(0,0,0,0.15)\";\n  iframe.style.borderRadius = \"8px\";\n\n  return iframe;\n}\n\nfunction buildSrc(attrs) {\n  const appPath = attrValue(attrs, \"app\") || defaultBasePath;\n\n  const props = {};\n  attrsWithout(attrs, \"app\", \"class\").forEach(({ name, value }) => {\n    name = name.replace(\"-\", \"_\").toLowerCase();\n    props[name] = value;\n  });\n\n  return encodeURI(\n    [appPath, embedUrlPrefix].join(\"/\") + `?props=${JSON.stringify(props)}`\n  );\n}\n\nfunction attrValue(attrs, name, fallback = null) {\n  const attr = attrs.find((attr) => attr.name === name);\n  return attr ? attr.value : fallback;\n}\n\nfunction attrsWithout(attrs, ...without) {\n  return attrs.filter((attr) => !without.includes(attr.name));\n}\n"],"names":[],"version":3,"file":"lookbook.js.map"}